{"remainingRequest":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/giveTimes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/giveTimes.vue","mtime":1562644646000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            giveTimes: false,\r\n            tableDataBegin: [],\r\n            tableDataName: \"\",\r\n            tableDataEnd: [],\r\n            currentPage: 0,\r\n            pageSize: 0,\r\n            user: \"\",\r\n            modal: false,\r\n            modal_time: false,\r\n            total: 0,\r\n            limit: 15,\r\n            time: \"\",\r\n            idss: [],\r\n            courseId: \"\",\r\n            val: 1,\r\n            page: \"\",\r\n            ruleForm: {}\r\n        };\r\n    },\r\n    multipleSelection: [],\r\n    mounted() {\r\n        this.getTableData();\r\n        this.getUser();\r\n    },\r\n    methods: {\r\n        search() {\r\n            this.getTableData();\r\n        },\r\n        getTableData: function() {\r\n            this.giveTimes = true;\r\n            this.$axios({\r\n                url: this.$api.baseURL + \"api/teacher/presentertime/list\",\r\n                params: {\r\n                    page: this.val,\r\n                    limit: this.limit,\r\n                    key: this.tableDataName\r\n                }\r\n            })\r\n                .then(r => {\r\n                    this.giveTimes = false;\r\n                    this.tableDataEnd = r.data.body.list;\r\n                    this.total = r.data.body.totalCount;\r\n                    this.pageSize = r.data.body.totalCount;\r\n                    this.currentPage = r.data.body.currPage;\r\n                })\r\n                .catch(er => {\r\n                    this.giveTimes = false;\r\n                });\r\n        },\r\n\r\n        handleSizeChange(val) {\r\n            console.log(`每页 ${val} 条`);\r\n            this.limit = val;\r\n            this.getTableData();\r\n        },\r\n        getUser() {\r\n            this.$axios({\r\n                url: this.$api.baseURL + \"api/teacher/user/getMyInfo\"\r\n            })\r\n                .then(r => {\r\n                    if (r.data.status === 400) {\r\n                        if (r.data.body.code === 4011) {\r\n                            this.$router.push({ path: \"/login\" });\r\n                        }\r\n                    }\r\n                    this.user = r.data.body;\r\n                    this.time = Number(this.user.presenterTimeLimit) - Number(this.user.presenterTimeConsume);\r\n                })\r\n                .catch(er => {});\r\n        },\r\n        handleChangearea(val) {\r\n            let obj = {};\r\n            obj = this.selects.find(item => {\r\n                return item.userId === val;\r\n            });\r\n            this.userId = obj.userId;\r\n            this.username = obj.username;\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.val = val;\r\n            this.getTableData();\r\n        },\r\n\r\n        handleSelectionChange(val) {\r\n            this.multipleSelection = val;\r\n            const ids = [];\r\n            this.multipleSelection.map(item => {\r\n                var id = item.id;\r\n                ids.push(\"\" + id + \"\");\r\n            });\r\n            this.selectedIDs = ids;\r\n            console.log(\"多选\", ids);\r\n            this.idss = this.selectedIDs;\r\n            console.log(this.idss);\r\n        }\r\n    }\r\n};\r\n",null]}