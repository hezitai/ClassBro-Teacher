{"remainingRequest":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/detail/seller_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/detail/seller_detail.vue","mtime":1566888599636},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport plupload from 'plupload'\r\nexport default {\r\n    filters: {\r\n        rounding(value) {\r\n            return value.toFixed(2)\r\n        },\r\n        spliting(value) {\r\n            return value.split(' ')[0]\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            afterSaleRemark: null,\r\n            sellerDetail: false,\r\n            uploadFilesArray: [],\r\n            isKaoqiantuji: false,\r\n            uploadDropBoxDialog: false,\r\n            uploadUseData: {},\r\n            uploadStatus: 'exception',\r\n            uploadPercent: 20,\r\n            showUploadProgress: false,\r\n            span: 0,\r\n            dropboxLoading: false,\r\n            fileListnum: 0,\r\n            fileList: [],\r\n            uploadImgTimes: 0,\r\n            formdata: new FormData(), // 创建一个上传图片用的new formdata\r\n            downfileTypeOtherBtn: false,\r\n            downfileType4Btn: false,\r\n            dropBoxList: [],\r\n            typeOrder: true,\r\n            cailiaofei: true,\r\n            history: '',\r\n            dialogVisible: false,\r\n            checked: false,\r\n            courses: '',\r\n            urls: [],\r\n            id: '',\r\n            btnstatus: false,\r\n            classroomdata: [],\r\n            studCoursewareList: [],\r\n            filelist: [],\r\n            ruleForm: {\r\n                course: ''\r\n            },\r\n            ruleForm1: {\r\n                username: '',\r\n                nickname: '',\r\n                sellerDemandDesc: '',\r\n                hourlyWage: ''\r\n            },\r\n            ruleForm2: {\r\n                courseCode: '',\r\n                courseName: '',\r\n                type: ''\r\n            },\r\n            checkedArray: [],\r\n            checkedBoxAll: false,\r\n            downloadAllCourseLoading: false,\r\n            downLoadChooseCourseLoading: false,\r\n            downloadFiles: false,\r\n            coursesItem: [],\r\n            question: '',\r\n            isDingzhifudao: false,\r\n            isDingzhifudaoNew: false,\r\n            uploader: null\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getclassroomdata()\r\n        this.coursedata()\r\n        this.sameHeight()\r\n    },\r\n    methods: {\r\n        sameHeight() {\r\n            const left = document.getElementById('leftContent').clientHeight\r\n            const right = document.getElementById('rightContent').clientHeight\r\n            console.log(left, right)\r\n            // if (left > right) {\r\n            //     document.getElementById('rightContent').style.height = left + 'px'\r\n            //     document.getElementById('leftContent').style.borderRight = '10px solid #e5e9f2'\r\n            // } else if (left < right) {\r\n            //     document.getElementById('leftContent').style.height = right + 'px'\r\n            //     document.getElementById('rightContent').style.borderLeft = '10px solid #e5e9f2'\r\n            // }\r\n        },\r\n        downFiles: function(row) {\r\n            window.open(row.url + '0000')\r\n        },\r\n        downloadZip: function() {\r\n            var arr = JSON.stringify(this.checkedArray)\r\n            this.downLoadChooseCourse(arr)\r\n        },\r\n        downLoadChooseCourse: function(urlArray) {\r\n            // console.log(this.checkedArray);\r\n            this.downloadFiles = true\r\n            this.$message({\r\n                type: 'success',\r\n                message: '文件正在打包中...'\r\n            })\r\n            this.$axios({\r\n                    url: this.$api.baseURL + '/resource/getZipFile',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    method: 'post',\r\n                    data: urlArray\r\n                })\r\n                .then(r => {\r\n                    this.downloadFiles = false\r\n                    if (r.data.status == 200) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '文件打包成功'\r\n                        })\r\n                        window.location.href =\r\n                            this.$api.baseURL + r.data.body.filePath\r\n                    } else {\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: r.data.body.msg\r\n                        })\r\n                    }\r\n                })\r\n                .catch(er => {\r\n                    this.downloadFiles = false\r\n                })\r\n        },\r\n        chooseDownLoadCheckBox: function(row) {\r\n            console.log(row)\r\n            row.checkbox = !row.checkbox\r\n            // console.log(row.checkbox);\r\n            if (row.checkbox == true) {\r\n                this.checkedArray.push(row.url)\r\n            } else {\r\n                for (var i in this.checkedArray) {\r\n                    if (this.checkedArray[i] == row.url) {\r\n                        this.checkedArray.splice(i, 1)\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        checkBoxAll: function(val) {\r\n            var checkedArray = []\r\n            for (var i in this.coursesItem) {\r\n                checkedArray.push(this.coursesItem[i].url)\r\n            }\r\n            var arr = JSON.stringify(checkedArray)\r\n            this.downLoadChooseCourse(arr)\r\n        },\r\n\r\n        uploadDropbox: function() {\r\n            this.uploadDropBoxDialog = true\r\n\r\n            function GUID() {\r\n                this.date = new Date() /* 判断是否初始化过，如果初始化过以下代码，则以下代码将不再执行，实际中只执行一次 */\r\n                if (typeof this.newGUID !== 'function') {\r\n                    /* 生成GUID码 */\r\n                    GUID.prototype.newGUID = function() {\r\n                        this.date = new Date()\r\n                        let guidStr = ''\r\n                        const sexadecimalDate = this.hexadecimal(\r\n                            this.getGUIDDate(),\r\n                            16\r\n                        )\r\n                        const sexadecimalTime = this.hexadecimal(\r\n                            this.getGUIDTime(),\r\n                            16\r\n                        )\r\n                        for (var i = 0; i < 9; i++) {\r\n                            guidStr += Math.floor(Math.random() * 16).toString(\r\n                                16\r\n                            )\r\n                        }\r\n                        guidStr += sexadecimalDate\r\n                        guidStr += sexadecimalTime\r\n                        while (guidStr.length < 32) {\r\n                            guidStr += Math.floor(Math.random() * 16).toString(\r\n                                16\r\n                            )\r\n                        }\r\n                        return this.formatGUID(guidStr)\r\n                    }\r\n                    /* * 功能：获取当前日期的GUID格式，即8位数的日期：19700101 * 返回值：返回GUID日期格式的字条串 */\r\n                    GUID.prototype.getGUIDDate = function() {\r\n                        return (\r\n                            this.date.getFullYear() +\r\n                            this.addZero(this.date.getMonth() + 1) +\r\n                            this.addZero(this.date.getDay())\r\n                        )\r\n                    }\r\n                    /* * 功能：获取当前时间的GUID格式，即8位数的时间，包括毫秒，毫秒为2位数：12300933 * 返回值：返回GUID日期格式的字条串 */\r\n                    GUID.prototype.getGUIDTime = function() {\r\n                        return (\r\n                            this.addZero(this.date.getHours()) +\r\n                            this.addZero(this.date.getMinutes()) +\r\n                            this.addZero(this.date.getSeconds()) +\r\n                            this.addZero(\r\n                                parseInt(this.date.getMilliseconds() / 10)\r\n                            )\r\n                        )\r\n                    }\r\n                    /* * 功能: 为一位数的正整数前面添加0，如果是可以转成非NaN数字的字符串也可以实现 * 参数: 参数表示准备再前面添加0的数字或可以转换成数字的字符串 * 返回值: 如果符合条件，返回添加0后的字条串类型，否则返回自身的字符串 */\r\n                    GUID.prototype.addZero = function(num) {\r\n                        if (\r\n                            Number(num).toString() != 'NaN' &&\r\n                            num >= 0 &&\r\n                            num < 10\r\n                        ) {\r\n                            return '0' + Math.floor(num)\r\n                        } else {\r\n                            return num.toString()\r\n                        }\r\n                    }\r\n                    /*  * 功能：将y进制的数值，转换为x进制的数值 * 参数：第1个参数表示欲转换的数值；第2个参数表示欲转换的进制；第3个参数可选，表示当前的进制数，如不写则为10 * 返回值：返回转换后的字符串 */\r\n                    GUID.prototype.hexadecimal = function(num, x, y) {\r\n                        if (y != undefined) {\r\n                            return parseInt(num.toString(), y).toString(x)\r\n                        } else {\r\n                            return parseInt(num.toString()).toString(x)\r\n                        }\r\n                    }\r\n                    /* * 功能：格式化32位的字符串为GUID模式的字符串 * 参数：第1个参数表示32位的字符串 * 返回值：标准GUID格式的字符串 */\r\n                    GUID.prototype.formatGUID = function(guidStr) {\r\n                        var str1 = guidStr.slice(0, 8) + '-'\r\n                        var str2 = guidStr.slice(8, 12) + '-'\r\n                        var str3 = guidStr.slice(12, 16) + '-'\r\n                        var str4 = guidStr.slice(16, 20) + '-'\r\n                        var str5 = guidStr.slice(20)\r\n                        return str1 + str2 + str3 + str4 + str5\r\n                    }\r\n                }\r\n            }\r\n\r\n            let uploadFilesNo = 0\r\n            let uploadFilesTimes = 0\r\n            let accessid = ''\r\n            let host = ''\r\n            let policyBase64 = ''\r\n            let signature = ''\r\n            let g_dirname = ''\r\n            let uploadFileName = ''\r\n            const guid = new GUID()\r\n            const ids = this.$route.query.id\r\n            this.$axios({\r\n                    url: this.$api.baseURL +\r\n                        'api/oss/getAliOSSUploadSign?dir=' +\r\n                        'courseware/' +\r\n                        guid.newGUID() +\r\n                        '/'\r\n                })\r\n                .then(r => {\r\n                    if (r.data.status == 200) {\r\n                        accessid = r.data.body.accessid\r\n                        host = r.data.body.host\r\n                        policyBase64 = r.data.body.policy\r\n                        signature = r.data.body.signature\r\n                        g_dirname = r.data.body.dir\r\n\r\n                        function formatFileName(up, filename) {\r\n                            uploadFileName = encodeURIComponent(filename)\r\n                            console.log(uploadFileName)\r\n                            set_upload_param(up, filename, false)\r\n                        }\r\n\r\n                        function set_upload_param(up, filename, ret) {\r\n                            if (ret) {\r\n                                formatFileName(up, filename)\r\n                            }\r\n                            const new_multipart_params = {\r\n                                key: g_dirname + filename,\r\n                                policy: policyBase64,\r\n                                OSSAccessKeyId: accessid,\r\n                                success_action_status: '200', // 让服务端返回200,不然，默认会返回204\r\n                                signature: signature\r\n                            }\r\n\r\n                            up.setOption({\r\n                                url: host,\r\n                                multipart_params: new_multipart_params\r\n                            })\r\n\r\n                            up.start()\r\n                        }\r\n                        const _this = this\r\n                        this.uploader = new plupload.Uploader({\r\n                            runtimes: 'html5,flash,silverlight,html4',\r\n                            browse_button: 'selectfiles',\r\n                            // multi_selection: false,\r\n                            // container: document.getElementById('container'),\r\n                            // flash_swf_url: \"js/Moxie.swf\",\r\n                            // silverlight_xap_url: \"js/Moxie.xap\",\r\n                            url: 'http://oss.aliyuncs.com',\r\n                            init: {\r\n                                PostInit: function() {\r\n                                    document.getElementById(\r\n                                        'ossfile'\r\n                                    ).innerHTML = ''\r\n                                    document.getElementById(\r\n                                        'postfiles'\r\n                                    ).onclick = function() {\r\n                                        // if (vm.getCourseData.course != '') {\r\n                                        set_upload_param(\r\n                                            _this.uploader,\r\n                                            '',\r\n                                            false\r\n                                        )\r\n                                        return false\r\n                                        // } else {\r\n                                        //  vm.$message({\r\n                                        //    type: 'error',\r\n                                        //    message: '请选择要上传的课件组'\r\n                                        //  })\r\n                                        // }\r\n                                    }\r\n                                },\r\n                                FilesAdded: function(up, files) {\r\n                                    console.log(files)\r\n                                    uploadFilesNo = files.length\r\n                                    plupload.each(files, function(file) {\r\n                                        document.getElementById(\r\n                                                'ossfile'\r\n                                            ).innerHTML +=\r\n                                            '<div id=\"' +\r\n                                            file.id +\r\n                                            '\" style=\"padding: 10px 0;\">' +\r\n                                            file.name +\r\n                                            ' (' +\r\n                                            plupload\r\n                                            .formatSize(file.size)\r\n                                            .split(' ')[0] +\r\n                                            plupload\r\n                                            .formatSize(file.size)\r\n                                            .split(' ')[1]\r\n                                            .toUpperCase() +\r\n                                            ')<b></b>' +\r\n                                            '<div class=\"progress\" style=\"display:none;\"><div class=\"progress-bar\" style=\"width: 0%\"></div></div>' +\r\n                                            '</div>'\r\n                                    })\r\n                                    _this.uploadFileActive = 2\r\n                                },\r\n\r\n                                BeforeUpload: function(up, file) {\r\n                                    set_upload_param(up, file.name, true)\r\n                                },\r\n\r\n                                UploadProgress: function(up, file) {\r\n                                    _this.updataFiles = true\r\n                                    var d = document.getElementById(file.id)\r\n                                    d.getElementsByClassName(\r\n                                        'progress'\r\n                                    )[0].style.display = 'block'\r\n                                    d.getElementsByTagName('b')[0].innerHTML =\r\n                                        '<span style=\"display:inline-block;padding-left:10px;\">' +\r\n                                        file.percent +\r\n                                        '%</span>'\r\n                                    var prog = d.getElementsByTagName('div')[0]\r\n                                    var progBar = prog.getElementsByTagName(\r\n                                        'div'\r\n                                    )[0]\r\n                                    progBar.style.width = file.percent + '%'\r\n                                    progBar.setAttribute(\r\n                                        'aria-valuenow',\r\n                                        file.percent\r\n                                    )\r\n                                },\r\n                                FileUploaded: function(up, file, info) {\r\n                                    if (info.status == 200) {\r\n                                        // document.getElementById(file.id).getElementsByTagName('b')[0].innerHTML = '上传准备完成，等待上传';\r\n                                        // console.log(host + '/' + g_dirname + file.name);\r\n                                        uploadFilesTimes++\r\n                                        var aaa = {\r\n                                            cdId: _this.$route.query.id,\r\n                                            groupId: 0,\r\n                                            name: file.name,\r\n                                            url: host +\r\n                                                '/' +\r\n                                                g_dirname +\r\n                                                uploadFileName\r\n                                        }\r\n                                        _this.uploadFilesArray.push(aaa)\r\n                                        if (\r\n                                            uploadFilesTimes === uploadFilesNo\r\n                                        ) {\r\n                                            _this\r\n                                                .$axios({\r\n                                                    method: 'post',\r\n                                                    url: _this.$api.baseURL +\r\n                                                        'api/teacher/courseware/saveWithOssUrl',\r\n                                                    headers: {\r\n                                                        'Content-Type': 'application/json'\r\n                                                    },\r\n                                                    data: JSON.stringify(\r\n                                                        _this.uploadFilesArray\r\n                                                    )\r\n                                                })\r\n                                                .then(e => {\r\n                                                    _this.updataFiles = false\r\n                                                    if (r.status == 200) {\r\n                                                        _this.$message({\r\n                                                            type: 'success',\r\n                                                            message: '文件上传成功'\r\n                                                        })\r\n                                                        setInterval(function() {\r\n                                                            window.location.reload()\r\n                                                        }, 1000)\r\n                                                    }\r\n                                                })\r\n                                                .catch(er => {\r\n                                                    _this.updataFiles = false\r\n                                                })\r\n                                        }\r\n                                    } else {\r\n                                        document\r\n                                            .getElementById(file.id)\r\n                                            .getElementsByTagName(\r\n                                                'b'\r\n                                            )[0].innerHTML = info.response\r\n                                    }\r\n                                },\r\n\r\n                                Error: function(up, err) {\r\n                                    _this.$message({\r\n                                        type: 'error',\r\n                                        message: '文件上传失败， 请刷新重试'\r\n                                    })\r\n\r\n                                    _this.updataFiles = false\r\n                                    // document.getElementById('console').appendChild(document.createTextNode(\"\\nError xml:\" + err.response));\r\n                                    // document.getElementById(file.id).getElementsByTagName('b')[0].innerHTML = '文件上传失败';\r\n                                }\r\n                            }\r\n                        })\r\n\r\n                        this.uploader.init()\r\n                    }\r\n                })\r\n                .catch(er => {})\r\n        },\r\n\r\n        downfileTypeOther: function() {\r\n            window.open(\r\n                'https://classbro-oss.oss-cn-hongkong.aliyuncs.com/statice-resource/%E8%B5%84%E6%96%99%E6%95%B4%E7%90%86%E6%A8%A1%E6%9D%BF.zip'\r\n            )\r\n        },\r\n        downfileType4: function() {\r\n            window.open(\r\n                'https://classbro-oss.oss-cn-hongkong.aliyuncs.com/statice-resource/%E8%AE%BA%E6%96%87%E5%A4%A7%E7%A4%BC%E5%8C%85%EF%BC%88%E5%8C%85%E6%8B%AC%E5%A4%A7%E8%AE%BA%E6%96%87%EF%BC%89(1).zip'\r\n            )\r\n        },\r\n        downDropBox: function(url) {\r\n            window.open(url)\r\n        },\r\n\r\n        // check(val) {\r\n        //     if (val == true) {\r\n        //         $('.checkbox').prop('checked', true)\r\n        //     } else {\r\n        //         $('.checkbox').prop('checked', false)\r\n        //     }\r\n        // },\r\n        coursedata() {\r\n            this.$axios({\r\n                url: this.$api.baseURL + 'api/teacher/courseware/groupList',\r\n                params: {\r\n                    page: 1,\r\n                    limit: 1000\r\n                }\r\n            }).then(r => {\r\n                if (r.data.status == 200) {\r\n                    var lists = []\r\n                    r.data.body.list.forEach(function(element) {\r\n                        var list = {}\r\n                        list.groupName = element.groupName\r\n                        list.name = element.groupName.split(' ')[0]\r\n                        list.id = element.id\r\n                        lists.push(list)\r\n                    })\r\n                    this.courses = lists\r\n                }\r\n                console.log(this.courses)\r\n            })\r\n        },\r\n\r\n        // downfile() {\r\n        //     this.$message({\r\n        //         message: '文件正在服务器打包,请耐心等待,不要刷新页面',\r\n        //         type: 'success'\r\n        //     })\r\n        //     vm.btnstatus = true\r\n        //     var arr = []\r\n        //     var checkedCount = 0\r\n        //     for (var i = 0; i < $('#ul li input').length; i++) {\r\n        //         var Uarry = $('#ul li input')\r\n        //         var Tresult = Uarry.eq(i).attr('data-name')\r\n        //         var checkbox = document.getElementsByName('tie_in[]')\r\n        //         if (checkbox[i].checked) {\r\n        //             checkedCount++\r\n        //             arr.push(Tresult)\r\n        //         }\r\n        //     }\r\n        //     var arrjoin = arr.join(';')\r\n        //     $.ajax({\r\n        //         type: 'GET',\r\n        //         dataType: 'json',\r\n        //         headers: {\r\n        //             'token': token\r\n        //         },\r\n        //         data: {\r\n        //             fileStr: arrjoin\r\n        //         },\r\n        //         url: '' + baseURL + '/resource/getZipFile',\r\n        //         success: function(json) {\r\n        //             if (json.status == 200) {\r\n        //                 vm.btnstatus = false\r\n        //                 vm.$message({\r\n        //                     message: '文件正在服务器打包,请耐心等待,不要刷新页面',\r\n        //                     type: 'success'\r\n        //                 })\r\n        //                 window.open(json.body.filePath)\r\n        //             }\r\n        //         }\r\n        //     })\r\n        // },\r\n        // del(row, index) {\r\n        //     this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        //         confirmButtonText: '确定',\r\n        //         cancelButtonText: '取消',\r\n        //         type: 'warning'\r\n        //     }).then(() => {\r\n        //         $.ajax({\r\n        //             type: 'POST',\r\n        //             dataType: 'json',\r\n        //             headers: {\r\n        //                 'token': token\r\n        //             },\r\n        //             data: JSON.stringify([row.id]),\r\n        //             url: '' + baseURL + 'api/teacher/courseware/delete',\r\n        //             success: function(json) {\r\n        //                 vm.$message({\r\n        //                     type: 'success',\r\n        //                     message: '删除成功!'\r\n        //                 })\r\n        //                 vm.getclassroomdata()\r\n        //             }\r\n        //         })\r\n        //     }).catch(() => {})\r\n        // },\r\n        getclassroomdata: function() {\r\n            // const getUrlStr = function(name) {\r\n            //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\r\n            //     var r = window.location.hash.substr(1).match(reg)\r\n            //     if (r != null) return unescape(r[2])\r\n            //     return null\r\n            // }\r\n            // var id = getUrlStr('id')\r\n            var id = this.$route.query.id\r\n            this.sellerDetail = true\r\n            this.$axios({\r\n                url: this.$api.baseURL +\r\n                    'api/teacher/order/getCourseObject?id=' +\r\n                    id +\r\n                    '',\r\n                params: {\r\n                    page: 1,\r\n                    limit: 6,\r\n                    exceptionType: ''\r\n                }\r\n            }).then(r => {\r\n                this.afterSaleRemark = JSON.parse(r.data.body.afterSaleRemark)\r\n                this.sellerDetail = false\r\n                this.question = r.data.body.studPurchaseOrder.sellerDemandDesc\r\n                if (r.data.body.studPurchaseOrder.type === 0 || r.data.body.studPurchaseOrder.type === 1 || r.data.body.studPurchaseOrder.type === 4) {\r\n                    this.cailiaofei = false\r\n                    this.isDingzhifudao = true\r\n                    if (r.data.body.studPurchaseOrder.orderQuestions == null) {\r\n                        this.isDingzhifudaoNew = false\r\n                    } else {\r\n                        this.isDingzhifudaoNew = true\r\n                        this.question =\r\n                            r.data.body.studPurchaseOrder.orderQuestions\r\n                    }\r\n                }\r\n\r\n                this.dropBoxList = r.data.body.dropBoxList\r\n                this.ruleForm1.hourlyWage = r.data.body.hourlyWage\r\n                this.classroomdata = r.data.body.classroomList\r\n                this.studCoursewareList = r.data.body.studCoursewareList\r\n                this.studdate = r.data.body.studUser\r\n                this.filelist = r.data.body.studCoursewareList\r\n                this.ruleForm1.orderNo = r.data.body.orderNo\r\n                this.ruleForm1.remark = r.data.body.remark\r\n                this.ruleForm1.scheduledTime =\r\n                    r.data.body.studPurchaseOrder.scheduledTime\r\n                this.ruleForm1.allSchooltime = r.data.body.allSchooltime\r\n                this.ruleForm1.totalPrice =\r\n                    r.data.body.studPurchaseOrder.totalPrice +\r\n                    ' ' +\r\n                    r.data.body.studPurchaseOrder.currency\r\n                this.ruleForm1.prepayment =\r\n                    r.data.body.studPurchaseOrder.prepayment +\r\n                    ' ' +\r\n                    r.data.body.studPurchaseOrder.currency\r\n                this.ruleForm1.prices1 =\r\n                    Number(r.data.body.teacG) + Number(r.data.body.teacPreG)\r\n                this.ruleForm1.prices2 =\r\n                    Number(r.data.body.teacOtg) +\r\n                    Number(r.data.body.teacPreOtg)\r\n                this.ruleForm1.sellerDemandDesc =\r\n                    r.data.body.studPurchaseOrder.sellerDemandDesc\r\n                this.ruleForm2.spareTime =\r\n                    r.data.body.studPurchaseOrder.spareTime\r\n                if (this.ruleForm2.spareTime != null) {\r\n                    var spareTime = r.data.body.studPurchaseOrder.spareTime.split(\r\n                        '|'\r\n                    )\r\n                    var one = spareTime[0]\r\n                    var ones = one.split(',')\r\n                    this.ruleForm2.am1 = ones[0]\r\n                    this.ruleForm2.bm1 = ones[1]\r\n                    this.ruleForm2.pm1 = ones[2]\r\n                    var two = spareTime[1]\r\n                    var twos = two.split(',')\r\n                    this.ruleForm2.am2 = twos[0]\r\n                    this.ruleForm2.bm2 = twos[1]\r\n                    this.ruleForm2.pm2 = twos[2]\r\n                    var three = spareTime[2]\r\n                    var threes = three.split(',')\r\n                    this.ruleForm2.am3 = threes[0]\r\n                    this.ruleForm2.bm3 = threes[1]\r\n                    this.ruleForm2.pm3 = threes[2]\r\n                    var four = spareTime[3]\r\n                    var fours = four.split(',')\r\n                    this.ruleForm2.am4 = fours[0]\r\n                    this.ruleForm2.bm4 = fours[1]\r\n                    this.ruleForm2.pm4 = fours[2]\r\n                    var five = spareTime[4]\r\n                    var fives = five.split(',')\r\n                    this.ruleForm2.am5 = fives[0]\r\n                    this.ruleForm2.bm5 = fives[1]\r\n                    this.ruleForm2.pm5 = fives[2]\r\n                    var six = spareTime[5]\r\n                    var sixs = six.split(',')\r\n                    this.ruleForm2.am6 = sixs[0]\r\n                    this.ruleForm2.bm6 = sixs[1]\r\n                    this.ruleForm2.pm6 = sixs[2]\r\n                    var seven = spareTime[6]\r\n                    var sevens = seven.split(',')\r\n                    this.ruleForm2.am7 = sevens[0]\r\n                    this.ruleForm2.bm7 = sevens[1]\r\n                    this.ruleForm2.pm7 = sevens[2]\r\n                }\r\n                if (r.data.body.statused == 1) {\r\n                    this.ruleForm1.statused = '未处理（无任何销售接单）'\r\n                }\r\n                if (r.data.body.statused == 2) {\r\n                    this.ruleForm1.statused = '待审核'\r\n                }\r\n                if (r.data.body.statused == 4) {\r\n                    this.ruleForm1.statused = '待确定'\r\n                }\r\n                if (r.data.body.statused == 8) {\r\n                    this.ruleForm1.statused = '待规划（等待教师/运营接单）'\r\n                }\r\n                if (r.data.body.statused == 16) {\r\n                    this.ruleForm1.statused =\r\n                        '规划中(订单第一次超时等待运营接单)'\r\n                }\r\n                if (r.data.body.statused == 32) {\r\n                    this.ruleForm1.statused =\r\n                        '规划中(订单第二次超时等待运营主管强制指派)'\r\n                }\r\n                if (r.data.body.statused == 64) {\r\n                    this.ruleForm1.statused =\r\n                        '规划中(运营接单待指派，正在处理)'\r\n                }\r\n                if (r.data.body.statused == 128) {\r\n                    this.ruleForm1.statused = '待排课'\r\n                }\r\n                if (r.data.body.statused == 256) {\r\n                    this.ruleForm1.statused = '已排课'\r\n                }\r\n                if (r.data.body.statused == 512) {\r\n                    this.ruleForm1.statused = '申请结课中'\r\n                }\r\n                if (r.data.body.statused == 1024) {\r\n                    this.ruleForm1.statused = '已结课'\r\n                }\r\n                if (r.data.body.statused == 2048) {\r\n                    this.ruleForm1.statused = '已强制结课'\r\n                }\r\n                if (r.data.body.statused == 4096) {\r\n                    this.ruleForm1.statused = '已取消'\r\n                }\r\n                if (r.data.body.statused == 8192) {\r\n                    this.ruleForm1.statused = '坏单申请中'\r\n                }\r\n                if (r.data.body.statused == 16384) {\r\n                    this.ruleForm1.statused = '订单作废'\r\n                }\r\n                if (r.data.body.statused == 32768) {\r\n                    this.ruleForm1.statused = '销售被更换'\r\n                }\r\n                if (r.data.body.statused == 65536) {\r\n                    this.ruleForm1.statused = '事故单申请中'\r\n                }\r\n                if (r.data.body.statused == 131072) {\r\n                    this.ruleForm1.statused = '讲师已更换'\r\n                }\r\n                if (r.data.body.statused == 262144) {\r\n                    this.ruleForm1.statused = '事故单更换教师待委派'\r\n                }\r\n                this.ruleForm1.username = r.data.body.sysSeller.username\r\n                this.ruleForm1.nickname = r.data.body.sysUserEntity.username\r\n                this.ruleForm1.nickname1 = r.data.body.teacUser.username\r\n                this.ruleForm1.teacFixedPrice = r.data.body.teacFixedPrice\r\n\r\n                this.ruleForm2.courseName =\r\n                    r.data.body.studPurchaseOrder.courseName\r\n                this.ruleForm2.courseCode =\r\n                    r.data.body.studPurchaseOrder.courseCode\r\n                if (r.data.body.studPurchaseOrder.type == 0) {\r\n                    this.ruleForm2.type = '定制辅导'\r\n                    this.downfileType4Btn = false\r\n                    this.downfileTypeOtherBtn = false\r\n                }\r\n                if (r.data.body.studPurchaseOrder.type == 1) {\r\n                    this.ruleForm2.type = '考前突击'\r\n                    this.downfileType4Btn = false\r\n                    this.downfileTypeOtherBtn = true\r\n                    this.isKaoqiantuji = true\r\n                }\r\n                if (r.data.body.studPurchaseOrder.type == 2) {\r\n                    this.ruleForm2.type = '包课辅导'\r\n                    this.downfileType4Btn = false\r\n                    this.downfileTypeOtherBtn = true\r\n                }\r\n                if (r.data.body.studPurchaseOrder.type == 4) {\r\n                    this.ruleForm2.type = '论文辅导'\r\n                    this.downfileType4Btn = true\r\n                    this.downfileTypeOtherBtn = false\r\n                }\r\n                if (r.data.body.studPurchaseOrder.type == 32) {\r\n                    this.ruleForm2.type = '特殊订单'\r\n                    this.downfileType4Btn = false\r\n                    this.downfileTypeOtherBtn = true\r\n                }\r\n                this.ruleForm.nickname = r.data.body.studUser.nickName\r\n                this.ruleForm.schoolName = r.data.body.sysUniversity.name\r\n                this.ruleForm.temCourseName =\r\n                    r.data.body.sysProfessionalCourses.chineseName\r\n                this.ruleForm.levelName = r.data.body.studUser.eduName\r\n                this.ruleForm.schoolYear =\r\n                    r.data.body.studPurchaseOrder.schoolYear\r\n                this.ruleForm.endCourseTime =\r\n                    r.data.body.studPurchaseOrder.endCourseTime\r\n                this.ruleForm.examTime = r.data.body.studPurchaseOrder.examTime\r\n                this.ruleForm.schoolAccount =\r\n                    r.data.body.studPurchaseOrder.schoolAccount\r\n                this.ruleForm.schoolPws =\r\n                    r.data.body.studPurchaseOrder.schoolPws\r\n                // const studCoursewareList = r.data.body.studCoursewareList\r\n                // var groupName = studCoursewareList.groupName\r\n                // style='display:inline-block;max-width:300px;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;\r\n                this.coursesItem = JSON.parse(\r\n                    JSON.stringify(r.data.body.studCoursewareList)\r\n                )\r\n                for (var i in this.coursesItem) {\r\n                    this.coursesItem[i].checkbox = false\r\n                }\r\n\r\n                // console.log(this.coursesItem)\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n",null]}