{"remainingRequest":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/myInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/myInformation.vue","mtime":1562644672000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport VueCropper from 'vue-cropper'\r\nexport default {\r\n    data() {\r\n        return {\r\n            cropperDialog: false,\r\n            teacshow: '',\r\n            professionalCoursesNames: '',\r\n            professionalCourses: '',\r\n            tableDataBegin: [],\r\n            activeName: 'first',\r\n            showa: false,\r\n            showb: true,\r\n            tableDataName: '',\r\n            tableDataEnd: [],\r\n            currentPage: 0,\r\n            pageSize: 0,\r\n            detail: true,\r\n            total: 0,\r\n            filterTableDataEnd: [],\r\n            dialogFormVisible2: false,\r\n            idss: [],\r\n            options: [],\r\n            selectedOptions: [],\r\n            selects: '',\r\n            countryId: '',\r\n            key: '',\r\n            val: 1,\r\n            page: '',\r\n            name: '',\r\n            superId: '',\r\n            countrys: '',\r\n            universitys: '',\r\n            label: '',\r\n            dialogStatus: '',\r\n            specializedss: '',\r\n            specializeds: '',\r\n            ruleForm: {\r\n                professionalIds: '',\r\n                src: '',\r\n                username: '',\r\n                sex: '',\r\n                birthday: '',\r\n                eduName: '',\r\n                type: '',\r\n                grade: '',\r\n                coachingSkills: '',\r\n                proKnowledge: '',\r\n                workingAttitude: '',\r\n                jobSpecification: '',\r\n                professionalCourses: '',\r\n                mobile: ''\r\n            },\r\n            rules: {\r\n                // country: [\r\n                //   { required: true, message: '请选择委派的运营', trigger: 'change' }\r\n                // ]\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.view_detail()\r\n        // this.getprofessionalCoursesName();\r\n    },\r\n    methods: {\r\n        cropperDialogSubmit() {\r\n\r\n        },\r\n        cropperDialoghandleClose() {\r\n            this.cropperDialog = false\r\n        },\r\n        handleClick(tab, first) {\r\n            var val = tab.index\r\n            console.log(val)\r\n            if (val == 0) {\r\n                this.showa = false\r\n                this.showb = true\r\n            } else {\r\n                this.showa = true\r\n                this.showb = false\r\n            }\r\n        },\r\n\r\n        handleChange(item) {},\r\n        // getprofessionalCoursesName(){\r\n        //     $.ajax({\r\n        //         type: \"get\",\r\n        //         url: \"\"+baseURL+\"sys/basedata/professionalCourses/list\",\r\n        //         dataType: \"json\",\r\n        //         data: {\r\n        //           \"token\": token,\r\n        //           \"page\": 1,\r\n        //           \"limit\": 1000\r\n        //           },\r\n        //           success: function(r){\r\n        //             vm.professionalCoursesNames = r.body.list;\r\n        //         }\r\n        // \t\t\t});\r\n        //   },\r\n        view_detail(row, index) {\r\n            this.$axios({\r\n                url: this.$api.baseURL + 'api/teacher/user/getMyInfo'\r\n            }).then(r => {\r\n              if (r.data.status === 400) {\r\n                        if (r.data.body.code === 4011) {\r\n                            this.$router.push({ path: \"/login\" });\r\n                        }\r\n                    }\r\n                var detail = r.data.body\r\n                if (detail.type === 2) {\r\n                    this.teacshow = true\r\n                } else {\r\n                    this.teacshow = false\r\n                }\r\n                this.id = r.data.body.id\r\n                this.$refs.ruleForm.model.src = '' + this.$api.baseURL + '' + detail.thumb + ''\r\n                this.$refs.ruleForm.model.username = detail.username\r\n                this.$refs.ruleForm.model.nickName = detail.nickName\r\n                this.$refs.ruleForm.model.sex = detail.sex\r\n                this.$refs.ruleForm.model.grade = '' + detail.grade + ''\r\n                this.$refs.ruleForm.model.birthday = detail.birthday\r\n                this.$refs.ruleForm.model.wxAccount = detail.wxAccount\r\n                this.$refs.ruleForm.model.mobile = detail.mobile\r\n                this.$refs.ruleForm.model.email = detail.email\r\n                this.$refs.ruleForm.model.universityName = detail.universityName\r\n                this.$refs.ruleForm.model.professionalCourses = [detail\r\n                    .professionalCoursesName\r\n                ]\r\n                this.$refs.ruleForm.model.eduName = '' + detail.eduBackgroundId + ''\r\n                //   vm.$refs.ruleForm.model.specializeds = [detail.specializeds];\r\n                this.$refs.ruleForm.model.specializeds = detail.specializeds\r\n                this.$refs.ruleForm.model.description = detail.description\r\n                this.$refs.ruleForm.model.coachingSkills = '' + detail.teacRate\r\n                    .coachingSkills + ''\r\n                this.$refs.ruleForm.model.proKnowledge = '' + detail.teacRate.proKnowledge +\r\n                        ''\r\n                this.$refs.ruleForm.model.workingAttitude = '' + detail.teacRate\r\n                    .workingAttitude + ''\r\n                this.$refs.ruleForm.model.jobSpecification = '' + detail.teacRate\r\n                    .jobSpecification + ''\r\n                this.$refs.ruleForm.model.presenterTimeLimit = detail.presenterTimeLimit\r\n                this.$refs.ruleForm.model.maxLootNum = detail.maxLootNum\r\n                this.$refs.ruleForm.model.teachingExperience = detail.teachingExperience\r\n                this.$refs.ruleForm.model.type = '' + detail.type + ''\r\n                this.$refs.ruleForm.model.hourlyWage = '' + detail.hourlyWage + ''\r\n            }).catch(er => {\r\n\r\n            })\r\n        },\r\n        update(formName) {\r\n            // var self = this\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    this.$axios({\r\n                        url: this.$api.baseURL + '/api/teacher/user/updateTeacher',\r\n                        method: 'post',\r\n                        data: JSON.stringify({\r\n                            id: this.id,\r\n                            username: this.$refs.ruleForm.model.username,\r\n                            nickName: this.$refs.ruleForm.model.nickName,\r\n                            sex: this.$refs.ruleForm.model.sex,\r\n                            birthday: this.$refs.ruleForm.model.birthday,\r\n                            wxAccount: this.$refs.ruleForm.model.wxAccount,\r\n                            email: this.$refs.ruleForm.model.email\r\n                        }),\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        }\r\n                    }).then(r => {\r\n                        if (r.data.status == 200) {\r\n                            this.$message({\r\n                                message: r.data.body.msg,\r\n                                type: 'success'\r\n                            })\r\n                            setTimeout(function() {\r\n                                window.location.reload()\r\n                            }, 1500)\r\n                        }\r\n                        if (r.data.status == 400) {\r\n                            this.$message({\r\n                                message: r.data.body.msg,\r\n                                type: 'warning'\r\n                            })\r\n                        }\r\n                    }).catch(er => {\r\n\r\n                    })\r\n                }\r\n            })\r\n        },\r\n\r\n        handleCurrentChange(val) {\r\n            this.val = val\r\n            this.getTableData()\r\n        },\r\n        changeheader() {\r\n            // this.cropperDialog = true\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '请在App端修改头像'\r\n            })\r\n        }\r\n        // selectImg(file) {\r\n        //     if (!file.files || !file.files[0]) {\r\n        //         return;\r\n        //     }\r\n        //     var reader = new FileReader();\r\n        //     reader.onload = function (evt) {\r\n        //         var replaceSrc = evt.target.result;\r\n        //         //更换cropper的图片\r\n        //         $('#tailoringImg').cropper('replace', replaceSrc, false); //默认false，适应高度，不失真\r\n        //     }\r\n        //     reader.readAsDataURL(file.files[0]);\r\n        // },\r\n        // //cropper图片裁剪\r\n        // $('#tailoringImg').cropper({\r\n        //     aspectRatio: 1 / 1, //默认比例\r\n        //     preview: '.previewImg', //预览视图\r\n        //     guides: false, //裁剪框的虚线(九宫格)\r\n        //     autoCropArea: 0.5, //0-1之间的数值，定义自动剪裁区域的大小，默认0.8\r\n        //     movable: false, //是否允许移动图片\r\n        //     dragCrop: true, //是否允许移除当前的剪裁框，并通过拖动来新建一个剪裁框区域\r\n        //     movable: true, //是否允许移动剪裁框\r\n        //     resizable: true, //是否允许改变裁剪框的大小\r\n        //     zoomable: false, //是否允许缩放图片大小\r\n        //     mouseWheelZoom: false, //是否允许通过鼠标滚轮来缩放图片\r\n        //     touchDragZoom: true, //是否允许通过触摸移动来缩放图片\r\n        //     rotatable: true, //是否允许旋转图片\r\n        //     crop: function (e) {\r\n        //         // 输出结果数据裁剪图像。\r\n        //     }\r\n        // });\r\n        // //旋转\r\n        // $(\".cropper-rotate-btn\").on(\"click\", function () {\r\n        //     $('#tailoringImg').cropper(\"rotate\", 45);\r\n        // });\r\n        // //复位\r\n        // $(\".cropper-reset-btn\").on(\"click\", function () {\r\n        //     $('#tailoringImg').cropper(\"reset\");\r\n        // });\r\n        // //换向\r\n        // var flagX = true;\r\n        // $(\".cropper-scaleX-btn\").on(\"click\", function () {\r\n        //     if (flagX) {\r\n        //         $('#tailoringImg').cropper(\"scaleX\", -1);\r\n        //         flagX = false;\r\n        //     } else {\r\n        //         $('#tailoringImg').cropper(\"scaleX\", 1);\r\n        //         flagX = true;\r\n        //     }\r\n        //     flagX != flagX;\r\n        // });\r\n\r\n        // closeTailor() {\r\n        //     $(\".tailoring-container\").toggle();\r\n        // }\r\n\r\n    }\r\n}\r\n",null]}