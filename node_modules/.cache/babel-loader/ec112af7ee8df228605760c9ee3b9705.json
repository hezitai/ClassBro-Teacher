{"remainingRequest":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/detail/bigClassRoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/detail/bigClassRoom.vue","mtime":1566888552400},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nvar _auth = require(\"@/utils/auth\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  rounding: function rounding(value) {\n    return value.toFixed(2);\n  },\n  spliting: function spliting(value) {\n    return value.split(' ')[0];\n  },\n  data: function data() {\n    return {\n      coursesItem: [],\n      bigClassRoom: false,\n      personid: '',\n      currentPage: 0,\n      pageSize: 0,\n      total: 0,\n      limit: 0,\n      personpage: 1,\n      personlimit: 5,\n      persondata: [],\n      personmodel: false,\n      aboutOrder: false,\n      radshow: false,\n      fileList1: [],\n      myHeaders1: {\n        token: (0, _auth.getLocal)('teactoken')\n      },\n      url1: this.$api.baseURL + 'sys/seller/order/evidenceThumbSave',\n      data1: {\n        amount: '',\n        current: '',\n        studId: ''\n      },\n      b1: false,\n      b2: '确 定',\n      s1: true,\n      s2: true,\n      red: '',\n      radio: '1',\n      badMoney: '',\n      isFromOrder: true,\n      mm1: false,\n      mm: false,\n      studCourses: [],\n      fileList: [],\n      myHeaders: {\n        token: (0, _auth.getLocal)('teactoken')\n      },\n      url: this.$api.baseURL + 'sys/seller/courseware/save',\n      data: {\n        cdId: '',\n        groupId: ''\n      },\n      btnstatus: false,\n      dialogVisible: false,\n      checked: false,\n      courses: '',\n      history: '',\n      urls: [],\n      id: '',\n      classroomdata: [],\n      extSysPaymentdata: [],\n      studCoursewareList: [],\n      filelist: [],\n      ruleForm: {\n        preferential: '',\n        teacNickName: '',\n        materialCost: '',\n        course: '',\n        parentTotalPrice: '',\n        Integer: '',\n        parentLastPrepayment: '',\n        temCourseName: '',\n        universityName: '',\n        statused: '',\n        studUser: ''\n      },\n      ruleForm1: {\n        username: '',\n        nickname: '',\n        sellerDemandDesc: '',\n        persenterTime: '',\n        allSchooltime: '',\n        reaMonetary: '',\n        current: '',\n        amount1: '',\n        amount: '',\n        studname: '',\n        studId: ''\n      },\n      ruleForm2: {\n        courseCode: '',\n        courseName: '',\n        type: '',\n        current: '',\n        amount: '',\n        studId: '',\n        id: '',\n        amount1: '',\n        courseId: ''\n      },\n      rules1: {},\n      rules: {}\n    };\n  },\n  mounted: function mounted() {\n    this.getclassroomdata();\n    this.coursedata();\n  },\n  methods: {\n    handlePreview: function handlePreview(file) {\n      console.log(file);\n    },\n    success: function success(response, file, fileList) {\n      if (response.status == 200) {\n        this.$message({\n          message: '上传文件成功',\n          type: 'success'\n        }); // this.fileList = []\n        // $('.ul').empty()\n        // this.getclassroomdata()\n\n        window.location.reload();\n      }\n\n      if (response.status == 400) {\n        this.$message({\n          message: response.body.msg,\n          type: 'warning'\n        });\n        this.fileList = [];\n      }\n    },\n    onerror: function onerror(response, file, fileList) {\n      this.$message({\n        message: response.body.msg,\n        type: 'warning'\n      });\n    },\n    change_lession: function change_lession(row, index) {\n      window.location.href = 'editClassroomOrder.html?id=' + row.courseId + '';\n    },\n    change: function change(file, fileList) {\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      this.data.cdId = id;\n    },\n    handleRemove: function handleRemove(file, fileList) {},\n    uploadFile: function uploadFile(file) {\n      this.formDate = new FormData();\n      this.formDate.append('file', file.file);\n      debugger;\n    },\n    submitUpload: function submitUpload() {\n      this.$refs.upload.submit();\n    },\n    check: function check(val) {// if (val == true) {\n      //     $('.checkbox').prop('checked', true)\n      // } else {\n      //     $('.checkbox').prop('checked', false)\n      // }\n    },\n    coursedata: function coursedata() {\n      var _this = this;\n\n      this.$axios({\n        url: this.$api.baseURL + 'api/teacher/courseware/groupList',\n        params: {\n          page: 1,\n          limit: 1000\n        }\n      }).then(function (r) {\n        var lists = [];\n        r.data.body.list.forEach(function (element) {\n          var list = {};\n          list.groupName = element.groupName;\n          list.name = element.groupName.split(' ')[0];\n          list.id = element.id;\n          lists.push(list);\n        });\n        _this.courses = lists;\n      });\n    },\n    change_course: function change_course(courseid) {\n      this.data.groupId = courseid;\n    },\n    // downfile() {\n    //     this.$message({\n    //         message: '文件正在服务器打包,请耐心等待,不要刷新页面',\n    //         type: 'success'\n    //     })\n    //     this.btnstatus = true\n    //     var arr = []\n    //     var checkedCount = 0\n    //     for (var i = 0; i < $('#ul li input').length; i++) {\n    //         var Uarry = $('#ul li input')\n    //         var Tresult = Uarry.eq(i).attr('data-name')\n    //         var checkbox = document.getElementsByName('tie_in[]')\n    //         if (checkbox[i].checked) {\n    //             checkedCount++\n    //             arr.push(Tresult)\n    //         }\n    //     }\n    //     var arrjoin = arr.join(';')\n    //     $.ajax({\n    //         type: 'GET',\n    //         dataType: 'json',\n    //         headers: {\n    //             'token': token\n    //         },\n    //         data: {\n    //             fileStr: arrjoin\n    //         },\n    //         url: '' + baseURL + '/resource/getZipFile',\n    //         success: function(json) {\n    //             if (json.status == 200) {\n    //                 this.btnstatus = false\n    //                 this.$message({\n    //                     message: '文件正在服务器打包,请耐心等待,不要刷新页面',\n    //                     type: 'success'\n    //                 })\n    //                 window.open(json.body.filePath)\n    //             }\n    //         }\n    //     })\n    // },\n    // del(row, index) {\n    //     this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n    //         confirmButtonText: '确定',\n    //         cancelButtonText: '取消',\n    //         type: 'warning'\n    //     }).then(() => {\n    //         $.ajax({\n    //             type: 'POST',\n    //             dataType: 'json',\n    //             headers: {\n    //                 'token': token\n    //             },\n    //             data: JSON.stringify([row.id]),\n    //             url: '' + baseURL + 'sys/seller/courseware/delete',\n    //             success: function(json) {\n    //                 this.$message({\n    //                     type: 'success',\n    //                     message: '删除成功!'\n    //                 })\n    //                 this.getclassroomdata()\n    //             }\n    //         })\n    //     }).catch(() => {})\n    // },\n    getclassroomdata: function getclassroomdata() {\n      var _this2 = this;\n\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      var parentId = this.$route.query.parentId;\n\n      if (parentId == 'null') {\n        // $('#parents').css('display', 'none')\n        document.getElementById('parents').style.display = 'none';\n      }\n\n      this.bigClassRoom = true;\n      this.$axios({\n        url: this.$api.baseURL + '/api/teacher/classcourse/queryClassCourseInfo?id=' + id + '',\n        params: {\n          'page': 1,\n          'limit': 6,\n          'isBig': true\n        }\n      }).then(function (r) {\n        var json = r.data;\n\n        if (json.status == 400) {\n          alert(json.body.msg);\n          return;\n        }\n\n        _this2.classroomdata = json.body.classroomList;\n\n        if (json.body.studPurchaseOrder.endCourseTime !== null) {\n          _this2.ruleForm.endCourseTime = json.body.studPurchaseOrder.endCourseTime.substring(0, 10);\n        }\n\n        if (json.body.studPurchaseOrder.examTime !== null) {\n          _this2.ruleForm.examTime = json.body.studPurchaseOrder.examTime.substring(0, 10);\n        }\n\n        _this2.ruleForm.explained = json.body.studPurchaseOrder.sellerDemandDesc;\n        _this2.ruleForm.temCourseName = json.body.studPurchaseOrder.courseName;\n        _this2.ruleForm.courseCode = json.body.studPurchaseOrder.courseCode;\n        _this2.ruleForm.universityName = json.body.studPurchaseOrder.universityName;\n        _this2.ruleForm.sysSeller = json.body.sysSeller.username;\n        _this2.ruleForm.teacNickName = json.body.teacNickName;\n        _this2.extSysPaymentdata = json.body.studClassStudents;\n        var studPreferentialPolicies = [];\n        json.body.studPreferentialPolicies.forEach(function (element) {\n          studPreferentialPolicies.push(Number(element.preferential) + '折');\n        });\n        _this2.ruleForm.preferential = studPreferentialPolicies.join(';');\n\n        if (json.body.statused == 8) {\n          _this2.ruleForm.statused = '待规划(等待教师/运营接单)';\n        }\n\n        if (json.body.statused == 16) {\n          _this2.ruleForm.statused = '规划中(订单第一次超时等待运营接单)';\n        }\n\n        if (json.body.statused == 32) {\n          _this2.ruleForm.statused = '规划中(订单第二次超时等待运营主管强制指派)';\n        }\n\n        if (json.body.statused == 64) {\n          _this2.ruleForm.statused = '规划中(运营接单待指派，正在处理)';\n        }\n\n        if (json.body.statused == 128) {\n          _this2.ruleForm.statused = '待排课';\n        }\n\n        if (json.body.statused == 256) {\n          _this2.ruleForm.statused = '已排课';\n        }\n\n        if (json.body.statused == 512) {\n          _this2.ruleForm.statused = '待结课';\n        }\n\n        if (json.body.statused == 1024) {\n          _this2.ruleForm.statused = '已结课';\n        }\n\n        if (json.body.statused == 4096) {\n          _this2.ruleForm.statused = '已取消';\n        }\n\n        if (json.body.statused == 65536) {\n          _this2.ruleForm.statused = '事故单申请中';\n        }\n\n        if (json.body.statused == 262144) {\n          _this2.ruleForm.statused = '事故单更换教师';\n        }\n\n        _this2.bigClassRoom = false;\n        _this2.coursesItem = JSON.parse(JSON.stringify(r.data.body.studCoursewareList));\n\n        for (var i in _this2.coursesItem) {\n          _this2.coursesItem[i].checkbox = false;\n        } // var studCoursewareList = json.body.studCoursewareList\n        // var groupName = studCoursewareList.groupName\n        // var arr1 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Requirement') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array1 = {}\n        //             array1.name = value.name\n        //             array1.createAt = value.createAt\n        //             array1.url = value.url\n        //             array1.id = value.id\n        //             arr1.push(array1)\n        //         }\n        //     }\n        // })\n        // arr1.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('.Requirement').append(html)\n        // })\n        // var arr2 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Unit Guide(Syllabus)') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array2 = {}\n        //             array2.name = value.name\n        //             array2.createAt = value.createAt\n        //             array2.url = value.url\n        //             array2.id = value.id\n        //             arr2.push(array2)\n        //         }\n        //     }\n        // })\n        // arr2.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Unit').append(html)\n        // })\n        // var arr3 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Lecture note') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array3 = {}\n        //             array3.name = value.name\n        //             array3.createAt = value.createAt\n        //             array3.url = value.url\n        //             array3.id = value.id\n        //             arr3.push(array3)\n        //         }\n        //     }\n        // })\n        // arr3.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Lecture').append(html)\n        // })\n        // var arr4 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Sample') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array4 = {}\n        //             array4.name = value.name\n        //             array4.createAt = value.createAt\n        //             array4.url = value.url\n        //             array4.id = value.id\n        //             arr4.push(array4)\n        //         }\n        //     }\n        // })\n        // arr4.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Sample').append(html)\n        // })\n        // var arr5 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Readings') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array5 = {}\n        //             array5.name = value.name\n        //             array5.createAt = value.createAt\n        //             array5.url = value.url\n        //             array5.id = value.id\n        //             arr5.push(array5)\n        //         }\n        //     }\n        // })\n        // arr5.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Readings').append(html)\n        // })\n        // var arr6 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Other') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array6 = {}\n        //             array6.name = value.name\n        //             array6.createAt = value.createAt\n        //             array6.url = value.url\n        //             array6.id = value.id\n        //             arr6.push(array6)\n        //         }\n        //     }\n        // })\n        // arr6.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Other').append(html)\n        // })\n        // var arr7 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Tutor Material') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array7 = {}\n        //             array7.name = value.name\n        //             array7.createAt = value.createAt\n        //             array7.url = value.url\n        //             array7.id = value.id\n        //             arr7.push(array7)\n        //         }\n        //     }\n        // })\n        // arr7.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Tutor').append(html)\n        // })\n        // var arr8 = []\n        // studCoursewareList.map(function(value, key) {\n        //     if (value.groupName == 'Additional') {\n        //         for (i = 0; i < 1; i++) {\n        //             var array8 = {}\n        //             array8.name = value.name\n        //             array8.createAt = value.createAt\n        //             array8.url = value.url\n        //             array8.id = value.id\n        //             arr8.push(array8)\n        //         }\n        //     }\n        // })\n        // arr8.map(item => {\n        //     var html = \"<li data-id='\" + item.id +\n        //             \"'><input class='checkbox' name='tie_in[]' type='checkbox' data-name='\" + item.url +\n        //             \"'/><a class='view' data-name='\" + item.url + \"'>\" + item.name + '</a>' + item\n        //         .createAt + \"<button class='button'>删除</button></li>\"\n        //     $('#Additional').append(html)\n        // })\n        // $('.button').click(function() {\n        //     var id = $(this).parent('li').attr('data-id')\n        //     this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        //         confirmButtonText: '确定',\n        //         cancelButtonText: '取消',\n        //         type: 'warning'\n        //     }).then(() => {\n        //         $.ajax({\n        //             type: 'POST',\n        //             contentType: 'application/json',\n        //             headers: {\n        //                 'token': token\n        //             },\n        //             data: JSON.stringify([id]),\n        //             url: '' + baseURL + 'sys/seller/courseware/delete',\n        //             success: function(json) {\n        //                 this.$message({\n        //                     type: 'success',\n        //                     message: '删除成功!'\n        //                 })\n        //                 $('ul').html('')\n        //                 this.getclassroomdata()\n        //             }\n        //         })\n        //     }).catch(() => {})\n        // })\n        // $(\".view\").click(function(){\n        //   var name = $(this).attr(\"data-name\");\n        //   window.open( \"viewpdf.html?name=\"+name+\"\");\n        // });\n        // $('.view').click(function() {\n        //     var name = $(this).attr('data-name')\n        //     window.open(name)\n        // })\n\n      }); // $.ajax({\n      //     type: 'get',\n      //     dataType: 'json',\n      //     data: {\n      //         'token': token,\n      //         'page': 1,\n      //         'limit': 6,\n      //         'isBig': true\n      //     },\n      //     url: '' + baseURL + '/api/teacher/classcourse/queryClassCourseInfo?id=' + id + '',\n      //     success: function(json) {\n      //     }\n      // })\n    },\n    apply: function apply(row, index) {\n      this.mm1 = true;\n      this.type = row.type;\n      this.badMoney = row.badMoney;\n      this.ruleForm.studId = row.studId;\n      this.ruleForm.current = row.current;\n      this.ruleForm.id = row.id;\n      this.amount = row.badMoney;\n      this.ruleForm1.studname = row.nickName;\n      this.ruleForm1.amount1 = row.minMoney;\n      this.ruleForm1.amount = row.badMoney;\n\n      if (row.parentId == null) {\n        this.radshow = false;\n        this.radio = '2';\n      } else {\n        this.radshow = true;\n        this.radio = '1';\n      }\n\n      if (row.courseId == null) {\n        this.ruleForm.courseId = ' ';\n      } else {\n        this.ruleForm.courseId = row.courseId;\n      }\n\n      return;\n    },\n    save1: function save1(formName) {\n      var _this3 = this;\n\n      var self = this;\n\n      if (this.radio == '1') {\n        this.isFromOrder = true;\n      } else {\n        this.isFromOrder = false;\n      }\n\n      this.creatst1 = true;\n      this.creatbtn1 = '加载中';\n      this.$axios({\n        method: 'post',\n        url: this.$api.baseURL + '/sys/seller/order/offsetPaymentDemand',\n        data: {\n          'studId': this.ruleForm.studId,\n          'currency': this.ruleForm.current,\n          'payMoney': this.ruleForm1.amount,\n          'sysPaymentDemandId': this.ruleForm.id,\n          'isFromOrder': this.isFromOrder\n        }\n      }).then(function (r) {\n        var json = r.data;\n\n        if (json.status == 200) {\n          _this3.creatmodel1 = false;\n          _this3.creatst1 = false;\n          _this3.creatbtn1 = '确 定';\n\n          if (json.body.needMoney == 0) {\n            self.$message({\n              message: '账单支付成功',\n              type: 'success'\n            });\n\n            _this3.getclassroomdata();\n\n            _this3.mm1 = false;\n          } else {\n            _this3.mm1 = false;\n            _this3.ruleForm.amount = json.body.needMoney;\n            _this3.ruleForm.amount1 = _this3.ruleForm1.amount;\n            _this3.ruleForm.studname = _this3.ruleForm1.studname;\n            _this3.mm = true;\n          }\n        }\n\n        if (json.status == 400) {\n          _this3.$message({\n            message: json.body.msg,\n            type: 'warning'\n          });\n\n          _this3.creatst1 = false;\n          _this3.creatbtn1 = '确 定';\n        }\n      });\n    },\n    submitUpload1: function submitUpload1() {\n      var _this4 = this;\n\n      if (this.ruleForm.remark == undefined) {\n        this.ruleForm.remark = ' ';\n      }\n\n      this.formDate = new FormData();\n      this.$refs.upload.submit();\n      this.formDate.append('current', this.ruleForm.current);\n      this.formDate.append('studId', this.ruleForm.studId);\n      this.formDate.append('amount', this.ruleForm.amount);\n      this.formDate.append('remark', this.ruleForm.remark);\n      this.formDate.append('courseId', this.ruleForm.courseId);\n      var config = {\n        headers: {\n          processData: false,\n          contentType: false,\n          mimeType: 'multipart/form-data',\n          token: (0, _auth.getLocal)('teactoken')\n        }\n      };\n      this.$axios.post(this.$api.baseURL + 'sys/seller/order/evidenceThumbSave', this.formDate, config).then(function (res) {\n        if (res.data.status == 200) {\n          _this4.save1();\n\n          _this4.$message({\n            message: '账单支付成功',\n            type: 'success'\n          });\n\n          _this4.mm = false;\n\n          _this4.getclassroomdata();\n\n          _this4.fileList = [];\n          _this4.ruleForm.remark = '';\n          _this4.b1 = false;\n          _this4.b2 = '确 定';\n        }\n\n        if (res.data.status == 400) {\n          if (_this4.$refs.ruleForm.model.amount != '') {\n            _this4.$message({\n              message: res.data.body.msg,\n              type: 'warning'\n            });\n          }\n\n          _this4.b1 = false;\n          _this4.b2 = '确 定';\n        }\n      }).catch(function (res) {\n        _this4.$message({\n          message: res.data.body.msg,\n          type: 'warning'\n        });\n      });\n    },\n    save: function save(formName) {\n      var _this5 = this;\n\n      var badMoney = Number(this.badMoney);\n      var amount = Number(this.ruleForm.amount);\n\n      if (this.type == 1) {\n        if (amount > badMoney) {\n          this.red = '课程预付 可以少不可以多';\n          return;\n        }\n      }\n\n      if (this.type == 2) {\n        if (amount < badMoney) {\n          this.red = '欠费账单 可以多不可以少';\n          return;\n        }\n      }\n\n      if (this.fileListnum == 0) {\n        this.$message({\n          message: '请选择图片',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var self = this;\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this5.b1 = true;\n          _this5.b2 = '加载中';\n\n          _this5.submitUpload1();\n        } else {\n          _this5.$message({\n            message: '请完善信息',\n            type: 'warning'\n          });\n        }\n      });\n    },\n    handlePreview1: function handlePreview1(file) {\n      console.log(file);\n    },\n    success1: function success1(response, file, fileList) {\n      console.log(response);\n    },\n    onerror1: function onerror1(response, file, fileList) {\n      this.$message({\n        message: response.body.msg,\n        type: 'warning'\n      });\n    },\n    change1: function change1(file, fileList) {\n      this.fileListnum = fileList.length; // console.log(this.fileListnum)\n      // if (fileList.length == 1) {\n      // }\n    },\n    uploadFile1: function uploadFile1(file) {\n      this.formDate = new FormData();\n\n      for (var i = 0; i < this.fileListnum; i++) {\n        this.formDate.append('file' + i, file.file);\n      }\n    },\n    handleRemove1: function handleRemove1(file, fileList) {\n      this.fileListnum = fileList.length; // console.log(this.fileListnum)\n      // if (fileList.length == 1) {\n      // }\n    },\n    deleteClasseoom: function deleteClasseoom(row, index) {\n      var _this6 = this;\n\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      this.$confirm('此操作将结束该班课, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this6.$axios({\n          method: 'post',\n          url: _this6.$api.baseURL + '/sys/seller/classcourse/finishedClassCourse?courseId=' + id + '',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(function (r) {\n          if (r.data.status == 200) {\n            _this6.$message({\n              type: 'success',\n              message: r.data.body.msg\n            });\n          }\n\n          if (r.data.status == 400) {\n            _this6.$message({\n              type: 'warning',\n              message: r.data.body.msg\n            });\n          }\n        }); // $.ajax({\n        //     type: 'POST',\n        //     contentType: 'application/json',\n        //     headers: {\n        //         'token': token\n        //     },\n        //     url: '' + baseURL + '/sys/seller/classcourse/finishedClassCourse?courseId=' + id + '',\n        //     success: function(json) {\n        //         if (json.status == 200) {\n        //             this.$message({\n        //                 type: 'success',\n        //                 message: json.body.msg\n        //             })\n        //         }\n        //         if (json.status == 400) {\n        //             this.$message({\n        //                 type: 'warning',\n        //                 message: json.body.msg\n        //             })\n        //         }\n        //     }\n        // })\n\n      }).catch(function () {});\n    },\n    seebill: function seebill(row, index) {\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      window.location.href = 'editClassroom.html?id=' + id + '';\n    },\n    addClasseoom: function addClasseoom(row, index) {\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      window.location.href = 'addClassroom.html?id=' + id + '';\n    },\n    change_teacher: function change_teacher(row, index) {\n      var _this7 = this;\n\n      // getUrlStr = function(name) {\n      //     var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\n      //     var r = window.location.search.substr(1).match(reg)\n      //     if (r != null) return unescape(r[2])\n      //     return null\n      // }\n      var id = this.$route.query.id;\n      this.$confirm('是否执行此操作?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function (_) {\n        _this7.$axios({\n          url: _this7.$api.baseURL + 'sys/seller/order/applyAccidentOrder',\n          method: 'post',\n          data: {\n            'courseId': id\n          }\n        }).then(function (r) {\n          if (r.data.status == '200') {\n            _this7.$message({\n              message: r.data.body.msg,\n              type: 'success'\n            });\n          }\n\n          if (r.data.status == 400) {\n            _this7.$message({\n              message: r.data.body.msg,\n              type: 'warning'\n            });\n          }\n        }); // $.ajax({\n        //     type: 'POST',\n        //     dataType: 'json',\n        //     data: {\n        //         'token': token,\n        //         'courseId': id\n        //     },\n        //     url: '' + baseURL + 'sys/seller/order/applyAccidentOrder',\n        //     success: function(json) {\n        //         if (json.status == '200') {\n        //             this.$message({\n        //                 message: json.body.msg,\n        //                 type: 'success'\n        //             })\n        //         }\n        //         if (json.status == 400) {\n        //             this.$message({\n        //                 message: json.body.msg,\n        //                 type: 'warning'\n        //             })\n        //         }\n        //     }\n        // })\n\n      }).catch(function () {});\n    },\n    getperson: function getperson() {\n      var _this8 = this;\n\n      this.$axios({\n        url: this.$api.baseURL + 'sys/seller/classcourse/queryStudByClassroomId',\n        params: {\n          'page': this.personpage,\n          'limit': this.personlimit,\n          'classroomId': this.personid\n        }\n      }).then(function (r) {\n        _this8.persondata = r.data.body.list;\n        _this8.total = r.data.body.totalCount;\n        _this8.pageSize = r.data.body.totalCount;\n        _this8.currentPage = r.data.body.currPage;\n      }); // $.ajax({\n      //     type: 'get',\n      //     dataType: 'json',\n      //     data: {\n      //         'token': token,\n      //         'page': this.personpage,\n      //         'limit': this.personlimit,\n      //         'classroomId': this.personid\n      //     },\n      //     url: '' + baseURL + 'sys/seller/classcourse/queryStudByClassroomId',\n      //     success: function(json) {\n      //         this.persondata = json.body.list\n      //         this.total = json.body.totalCount\n      //         this.pageSize = json.body.totalCount\n      //         this.currentPage = json.body.currPage\n      //     }\n      // })\n    },\n    person: function person(row, index) {\n      this.personid = row.id;\n      this.getperson();\n      this.personmodel = true;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.personpage = val;\n      this.getperson();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.personlimit = val;\n      this.getperson();\n      this.handleCurrentChange(this.currentPage);\n    },\n    editOrder: function editOrder(row, index) {\n      window.location.href = 'editClassroomOrder.html?id=' + row.courseId + '';\n    },\n    seedetail: function seedetail(row, index) {\n      var Logistics = this.$router.resolve({\n        path: \"/sellerDetail\",\n        query: {\n          id: row.courseId\n        }\n      });\n      window.open(Logistics.href); // window.location.href = 'seller_detail.html?id=' + row.courseId + ''\n    }\n  }\n};\nexports.default = _default;",null]}