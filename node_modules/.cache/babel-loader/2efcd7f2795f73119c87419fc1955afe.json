{"remainingRequest":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/myInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/src/views/account/myInformation.vue","mtime":1562644672000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/hezitai/Desktop/Daobi/ClassBroTeacher/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vueCropper = _interopRequireDefault(require(\"vue-cropper\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      cropperDialog: false,\n      teacshow: '',\n      professionalCoursesNames: '',\n      professionalCourses: '',\n      tableDataBegin: [],\n      activeName: 'first',\n      showa: false,\n      showb: true,\n      tableDataName: '',\n      tableDataEnd: [],\n      currentPage: 0,\n      pageSize: 0,\n      detail: true,\n      total: 0,\n      filterTableDataEnd: [],\n      dialogFormVisible2: false,\n      idss: [],\n      options: [],\n      selectedOptions: [],\n      selects: '',\n      countryId: '',\n      key: '',\n      val: 1,\n      page: '',\n      name: '',\n      superId: '',\n      countrys: '',\n      universitys: '',\n      label: '',\n      dialogStatus: '',\n      specializedss: '',\n      specializeds: '',\n      ruleForm: {\n        professionalIds: '',\n        src: '',\n        username: '',\n        sex: '',\n        birthday: '',\n        eduName: '',\n        type: '',\n        grade: '',\n        coachingSkills: '',\n        proKnowledge: '',\n        workingAttitude: '',\n        jobSpecification: '',\n        professionalCourses: '',\n        mobile: ''\n      },\n      rules: {// country: [\n        //   { required: true, message: '请选择委派的运营', trigger: 'change' }\n        // ]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.view_detail(); // this.getprofessionalCoursesName();\n  },\n  methods: {\n    cropperDialogSubmit: function cropperDialogSubmit() {},\n    cropperDialoghandleClose: function cropperDialoghandleClose() {\n      this.cropperDialog = false;\n    },\n    handleClick: function handleClick(tab, first) {\n      var val = tab.index;\n      console.log(val);\n\n      if (val == 0) {\n        this.showa = false;\n        this.showb = true;\n      } else {\n        this.showa = true;\n        this.showb = false;\n      }\n    },\n    handleChange: function handleChange(item) {},\n    // getprofessionalCoursesName(){\n    //     $.ajax({\n    //         type: \"get\",\n    //         url: \"\"+baseURL+\"sys/basedata/professionalCourses/list\",\n    //         dataType: \"json\",\n    //         data: {\n    //           \"token\": token,\n    //           \"page\": 1,\n    //           \"limit\": 1000\n    //           },\n    //           success: function(r){\n    //             vm.professionalCoursesNames = r.body.list;\n    //         }\n    // \t\t\t});\n    //   },\n    view_detail: function view_detail(row, index) {\n      var _this = this;\n\n      this.$axios({\n        url: this.$api.baseURL + 'api/teacher/user/getMyInfo'\n      }).then(function (r) {\n        if (r.data.status === 400) {\n          if (r.data.body.code === 4011) {\n            _this.$router.push({\n              path: \"/login\"\n            });\n          }\n        }\n\n        var detail = r.data.body;\n\n        if (detail.type === 2) {\n          _this.teacshow = true;\n        } else {\n          _this.teacshow = false;\n        }\n\n        _this.id = r.data.body.id;\n        _this.$refs.ruleForm.model.src = '' + _this.$api.baseURL + '' + detail.thumb + '';\n        _this.$refs.ruleForm.model.username = detail.username;\n        _this.$refs.ruleForm.model.nickName = detail.nickName;\n        _this.$refs.ruleForm.model.sex = detail.sex;\n        _this.$refs.ruleForm.model.grade = '' + detail.grade + '';\n        _this.$refs.ruleForm.model.birthday = detail.birthday;\n        _this.$refs.ruleForm.model.wxAccount = detail.wxAccount;\n        _this.$refs.ruleForm.model.mobile = detail.mobile;\n        _this.$refs.ruleForm.model.email = detail.email;\n        _this.$refs.ruleForm.model.universityName = detail.universityName;\n        _this.$refs.ruleForm.model.professionalCourses = [detail.professionalCoursesName];\n        _this.$refs.ruleForm.model.eduName = '' + detail.eduBackgroundId + ''; //   vm.$refs.ruleForm.model.specializeds = [detail.specializeds];\n\n        _this.$refs.ruleForm.model.specializeds = detail.specializeds;\n        _this.$refs.ruleForm.model.description = detail.description;\n        _this.$refs.ruleForm.model.coachingSkills = '' + detail.teacRate.coachingSkills + '';\n        _this.$refs.ruleForm.model.proKnowledge = '' + detail.teacRate.proKnowledge + '';\n        _this.$refs.ruleForm.model.workingAttitude = '' + detail.teacRate.workingAttitude + '';\n        _this.$refs.ruleForm.model.jobSpecification = '' + detail.teacRate.jobSpecification + '';\n        _this.$refs.ruleForm.model.presenterTimeLimit = detail.presenterTimeLimit;\n        _this.$refs.ruleForm.model.maxLootNum = detail.maxLootNum;\n        _this.$refs.ruleForm.model.teachingExperience = detail.teachingExperience;\n        _this.$refs.ruleForm.model.type = '' + detail.type + '';\n        _this.$refs.ruleForm.model.hourlyWage = '' + detail.hourlyWage + '';\n      }).catch(function (er) {});\n    },\n    update: function update(formName) {\n      var _this2 = this;\n\n      // var self = this\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.$axios({\n            url: _this2.$api.baseURL + '/api/teacher/user/updateTeacher',\n            method: 'post',\n            data: JSON.stringify({\n              id: _this2.id,\n              username: _this2.$refs.ruleForm.model.username,\n              nickName: _this2.$refs.ruleForm.model.nickName,\n              sex: _this2.$refs.ruleForm.model.sex,\n              birthday: _this2.$refs.ruleForm.model.birthday,\n              wxAccount: _this2.$refs.ruleForm.model.wxAccount,\n              email: _this2.$refs.ruleForm.model.email\n            }),\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }).then(function (r) {\n            if (r.data.status == 200) {\n              _this2.$message({\n                message: r.data.body.msg,\n                type: 'success'\n              });\n\n              setTimeout(function () {\n                window.location.reload();\n              }, 1500);\n            }\n\n            if (r.data.status == 400) {\n              _this2.$message({\n                message: r.data.body.msg,\n                type: 'warning'\n              });\n            }\n          }).catch(function (er) {});\n        }\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.val = val;\n      this.getTableData();\n    },\n    changeheader: function changeheader() {\n      // this.cropperDialog = true\n      this.$message({\n        type: 'warning',\n        message: '请在App端修改头像'\n      });\n    } // selectImg(file) {\n    //     if (!file.files || !file.files[0]) {\n    //         return;\n    //     }\n    //     var reader = new FileReader();\n    //     reader.onload = function (evt) {\n    //         var replaceSrc = evt.target.result;\n    //         //更换cropper的图片\n    //         $('#tailoringImg').cropper('replace', replaceSrc, false); //默认false，适应高度，不失真\n    //     }\n    //     reader.readAsDataURL(file.files[0]);\n    // },\n    // //cropper图片裁剪\n    // $('#tailoringImg').cropper({\n    //     aspectRatio: 1 / 1, //默认比例\n    //     preview: '.previewImg', //预览视图\n    //     guides: false, //裁剪框的虚线(九宫格)\n    //     autoCropArea: 0.5, //0-1之间的数值，定义自动剪裁区域的大小，默认0.8\n    //     movable: false, //是否允许移动图片\n    //     dragCrop: true, //是否允许移除当前的剪裁框，并通过拖动来新建一个剪裁框区域\n    //     movable: true, //是否允许移动剪裁框\n    //     resizable: true, //是否允许改变裁剪框的大小\n    //     zoomable: false, //是否允许缩放图片大小\n    //     mouseWheelZoom: false, //是否允许通过鼠标滚轮来缩放图片\n    //     touchDragZoom: true, //是否允许通过触摸移动来缩放图片\n    //     rotatable: true, //是否允许旋转图片\n    //     crop: function (e) {\n    //         // 输出结果数据裁剪图像。\n    //     }\n    // });\n    // //旋转\n    // $(\".cropper-rotate-btn\").on(\"click\", function () {\n    //     $('#tailoringImg').cropper(\"rotate\", 45);\n    // });\n    // //复位\n    // $(\".cropper-reset-btn\").on(\"click\", function () {\n    //     $('#tailoringImg').cropper(\"reset\");\n    // });\n    // //换向\n    // var flagX = true;\n    // $(\".cropper-scaleX-btn\").on(\"click\", function () {\n    //     if (flagX) {\n    //         $('#tailoringImg').cropper(\"scaleX\", -1);\n    //         flagX = false;\n    //     } else {\n    //         $('#tailoringImg').cropper(\"scaleX\", 1);\n    //         flagX = true;\n    //     }\n    //     flagX != flagX;\n    // });\n    // closeTailor() {\n    //     $(\".tailoring-container\").toggle();\n    // }\n\n  }\n};\nexports.default = _default;",null]}